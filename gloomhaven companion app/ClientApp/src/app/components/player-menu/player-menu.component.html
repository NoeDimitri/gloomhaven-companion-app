<div *ngIf="newTurn" class="alert alert-success" role="alert">
  All players submitted initiatives- new turn is ready!
  <button type="button" class="close" data-dismiss="alert" aria-label="Close" (click)="newTurn=false">
    <span aria-hidden="true">&times;</span>
  </button>
</div>

<div>
  Number of ready players: 
</div>

<div class="progress">
  <div class="progress-bar" [class.bg-success]="selectedPlayer != null && selectedPlayer.temp_initiative != -1" role="progressbar" 
    [style.width]="readyPlayers*100/playerList.length + '%'" 
    aria-valuenow="1" aria-valuemin="0" aria-valuemax="1">
    {{readyPlayers}} / {{playerList.length}}
  </div>
</div>

<!-- <br/>

Ready Players:
<div *ngFor="let entity of playerList">
  <ng-container *ngIf = "entity.temp_initiative != -1">
    {{entity.entityName}}
  </ng-container>
</div>

<br /> -->
Select Player
<div class="dropdown">
  <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" data-bs-toggle="dropdown">
    <ng-template [ngIf]="selectedPlayer != null" [ngIfElse]="blankName"> {{selectedPlayer.entityName}} </ng-template>
    <ng-template #blankName>No player selected</ng-template>
  </button>
  <div #player class="dropdown-menu" aria-labelledby="dropdownMenuButton">
    <button class="dropdown-item" *ngFor="let entity of playerList" (click)="changePlayer(entity)">
      {{entity.entityName}}
    </button>
  </div>
</div>

<br>

<ng-template [ngIf]="selectedPlayer">
  new Initiative: <input type="number" id="newInitiative" [(ngModel)]="newInitiative">
  <button style="margin:1rem" (click)="updateInitiative()" class="btn btn-primary">
    update
  </button>
</ng-template>
